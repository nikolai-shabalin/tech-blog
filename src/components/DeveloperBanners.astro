---
import { banners } from '../data/banners';

interface Banner {
  image: string;
  portfolioUrl: string;
}

// Перемешиваем массив баннеров
function fisherYatesShuffle(array: Banner[]): Banner[] {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
const shuffledBanners = fisherYatesShuffle([...banners]);
---

<p>Ниже вы найдёте баннеры специалистов, которых не нужно обучать с нуля:
  они уже уверенно пишут код, знают современный стек и готовы влиться в проект хоть завтра.
  Посмотрите портфолио, переходите по ссылкам на резюме и приглашайте ребят в команду —
  каждый из них открыт к новым вызовам и будет приносить пользу.</p>

<div class="developer-banners">
  {shuffledBanners.map((banner) => (
    <div class="banner-container">
      <a href={banner.portfolioUrl} class="banner-link" target="_blank" rel="noopener noreferrer">
        <img
          src={banner.image}
          alt="Frontend Developer Banner"
          width="960"
          height="300"
          class="banner-image"
        />
      </a>
      <a href={banner.portfolioUrl} class="portfolio-link" target="_blank" rel="noopener noreferrer">
        Посмотреть портфолио
      </a>
    </div>
  ))}
</div>

<style>
  .developer-banners {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
    margin: var(--space-xl) auto;
    max-width: var(--content-width);
  }

  .banner-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  .banner-link {
    display: block;
    position: relative;
    border-radius: 8px;
    overflow: hidden;
  }

  .banner-image {
    display: block;
    width: 100%;
    height: auto;
    transition: opacity 0.3s ease;
  }

  .portfolio-link {
    text-align: center;
    padding: var(--space-s) var(--space-m);
    text-decoration: none;
    font-size: 1rem;
    border-radius: 4px;
    transition: background-color 0.3s ease;
    align-self: center;
  }

  .portfolio-link:hover {
    background: var(--color-gray-dark);
  }
</style>
